<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="author" content="CodePel" />
		<title>login</title>
		<!-- Style CSS -->
		<link rel="stylesheet" href="./css/style.css" />
		<!-- Demo CSS (No need to include it into your project) -->
		<link rel="stylesheet" href="./css/demo.css" />
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
			crossorigin="anonymous"
		/>


		
	</head>
	<body>
		<!--$%adsense%$-->
		<main class="cd__main">
			<!-- Start DEMO HTML (Use the following code into your project)-->
			<script src="https://use.fontawesome.com/f59bcd8580.js"></script>
			<div class="container">
				<div class="row m-5 no-gutters shadow-lg">
					<div class="col-md-6 d-none d-md-block">
						<img
							src="https://i.pinimg.com/736x/7b/f8/e7/7bf8e71738b2bbe0df519b9628340c50.jpg"
							class="img-fluid"
							style="min-height: 100%"
						/>
					</div>
					<div class="col-md-6 bg-white p-5">
						<h3 class="pb-3">Login Form</h3>
						<div class="form-style">
							<form action="/login" method="POST">
								<div class="form-group pb-3">
									<input
										type="email"
										name="email"
										placeholder="Email"
										class="form-control"
										id="exampleInputEmail1"
										aria-describedby="emailHelp"
									/>
								</div>
								<div class="form-group pb-3">
									<input
										type="password"
										name="password"
										placeholder="Password"
										class="form-control"
										id="exampleInputPassword1"
									/>
								</div>
								<div class="d-flex align-items-center justify-content-between">
									<div class="d-flex align-items-center">
										<input name="" type="checkbox" value="" />
										<span class="pl-2 font-weight-bold">Remember Me</span>
									</div>
									<div><a href="#">Forget Password?</a></div>
								</div>
								<input
									class="btn btn-dark w-100 font-weight-bold mt-2"
									type="submit"
									value="Login"
								/>
								<!-- <div class="pb-2">
									<button
										type="submit"
										class="btn btn-dark w-100 font-weight-bold mt-2"
									>
										Submit
									</button>
								</div> -->
							</form>

							<div class="pt-4 text-center">
								New User. <a href="/register">Sign Up</a>
							</div>
						</div>
					</div>
					<!-- Logout Button -->
<button id="logoutButton" class="btn btn-danger">Logout</button>

<script>
	document.querySelector("form").addEventListener("submit", function (event) {
            const email = document.getElementById("exampleInputEmail1").value;
            const password = document.getElementById("exampleInputPassword1").value;

            // Email validation
            const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            if (!emailPattern.test(email)) {
                alert("Please enter a valid email address.");
                event.preventDefault(); // Prevent form submission
                return;
            }

            // Password validation (minimum 6 characters, at least one letter and one number)
            const passwordPattern = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/;
            if (!passwordPattern.test(password)) {
                alert("Password must be at least 6 characters long and contain at least one letter and one number.");
                event.preventDefault(); // Prevent form submission
                return;
            }
        });
  // Add functionality to the logout button
  document.getElementById("logoutButton").addEventListener("click", function () {
    // Make a logout request
    fetch("/logout", {
      method: "POST", // Ensure the server supports POST for logout
      headers: {
        "Content-Type": "application/json", // Adjust headers as needed
      },
    })
      .then((response) => {
        if (response.ok) {
          // Redirect the user to the login page or home page after successful logout
          window.location.href = "/login";
        } else {
          // Handle error cases (e.g., session already invalidated)
          alert("Login failed. Please try again.");
        }
      })
      .catch((error) => {
        console.error("Error during logout:", error);
        alert("An error occurred. Please try again.");
      });
  });
  

</script>

				</div>
			</div>
			<!-- END EDMO HTML (Happy Coding!)-->
		</main>

		<!-- Script JS -->
		<script src="./js/script.js"></script>
		<!--$%analytics%$-->
	</body>
</html>
